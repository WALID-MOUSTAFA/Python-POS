{%extends "partials/main-layout.html"%}

{%block content%}


<div class="container p-1" id="all_users" style="">
	<div class="mt-5 card">
		<div class="card-body table-responsive">
			<table id="" class="table" style="overflow:hidden">
				<thead class="bg-primary">
					<tr>
						<th>username</th>
						<th>fullname</th>
						<th>email</th>
						<th>avatar</th>
						<th>Actions</th>
					</tr>
				</thead>
				<tbody>
					{%for u in users%}
					<tr>
						<td>{{u.username}}</td>
						<td>{{u.fullname}}</td>
						<td>{{u.email}}</td>
						<td>{{u.avatar}}</td>
						<td>
							
							<button
								{%if not "show_admin" in request.session.permissions%} disabled {%endif%}
								data-user_id="{{u.id}}"
								class="btn btn-primary user_show">
								<i class="fa fa-eye"></i>
							</button>

							<a href="/admins/edit/{{u.id}}">
								<button
									{%if not "edit_admin" in request.session.permissions%} disabled {%endif%}
									class="btn btn-info ">
									<i class="fas fa-edit"></i>
								</button>
							</a>

							<a href="/admins/delete/{{u.id}}">
								<button
									{%if not "delete_admin" in request.session.permissions%} disabled {%endif%}
									class="btn btn-danger ">
									<i class="far fa-trash-alt"></i>
								</button>
							</a>

							
						</td>
					</tr>
					{%endfor%}
				</tbody>
			</table>

		</div>
	</div>
</div>

<div id="show_user_modal" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">

			<div class="modal-header bg-primary">
				<div class="modal-title">User Info</div>
			</div>

			<div class="modal-body">				
			</div>
			
			<div class="modal-footer">
				<button type="button" class="btn btn-primary">Save changes</button>
				<button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
{%endblock content%}
